#!/bin/sh
echo "Available themes:"
themes=$(ls $HOME/.config/themes -1 | sed '/current/d; s/.yaml//')
counter=1
echo "$themes" | while read item; do
    echo "$counter. $item"
    counter=$((counter + 1))
done
echo "Enter theme number:"
read theme_num

selected=$(echo "$themes" | sed "$theme_num!d")
if [ -n "${selected}" ]; then
    echo "Set theme to $selected"
    ln -sf $HOME/.config/themes/$selected.yaml $HOME/.config/themes/current
    gen-theme
else
    echo "Error: invalid input."
    exit
fi
echo "Reloading applications.."
reload-theme
